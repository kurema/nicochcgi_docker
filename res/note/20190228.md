# 20190228
## 連続再生
連続再生は普通に必要な機能だと思うが、現在未実装。
なぜかといえば、

* ``play.html``は移植性高めにしておきたい。
  * 外部jsは使いたくない。
  * 他のサービスにも簡単に組み込めるようにしておきたい。
* チャンネルの全動画は``window.location.hash``で通知するにはちょい長い事がある。

で、play.htmlをiframeに入れてみるのも考えた。
Web Messaging APIで再生終了を通知すればできるかもしれない。
やってみるか。

やってみれば割とできました。
その過程で、``play.html``にも以下の変更を加えた。

* 以下の状況で親ウィンドウに通信。
  * 再生終了
  * サイズ変更要求
* 親ウィンドウ``window.parent``でサイズを取得。
* ハッシュ``location.hash``が変更時に動画再読み込み。

### ToDo
まだできていない事は

* ~~連続再生アイコンを作る(既にあった気がする)。~~
* ~~動画一覧をもうちょいかっこよくする。~~
  * ~~よくある左サムネイル、右に説明パターン。~~
* 動画一覧をスクロール可能にする。→やめた
* フォーカス外すと黒くする？ 多分やらない。→十分暗いから許す。

それくらいか。

他に、極端なワイド画面で横にメニューを表示ってのも一案だが…、手元にそんな環境はない。

## コメント一覧
コメント更新時にも通知する仕組みにはしたがコメント一覧を表示はしていない。
コメント一覧表示を実装するかは迷う。

表示するならYouTubeスタイルにするのが良いだろう。
けど、やっぱりニコニコ動画とはいろいろコメントのスタイルが違うね。
あと、クリックでシークの機能は必須。

とりあえず実装して様子を見てみるか。

実装してみた。
良い感じ。

でもこれ何に使うんだ？
ニコニコ公式にも一応あるけど、検索できるのが便利なくらい？

時間部分はクリック、コメントはダブルクリックでシーク可能。
Ctrlが間違えて拾われないように修正した。

ニコニコには投稿日時と番号があるけど必要かなコレ？

## 電源ボタン
電源ボタンは画面下部分を暗くする機能。

[Turn Off the Lights for YouTube](https://chrome.google.com/webstore/detail/turn-off-the-lights/bfbmjmiodbnnpllbbbfblcplfjjepjdn)的な機能ですね。

## テレビ用連続再生
テレビ用の連続再生も一案。
UIはいらないけど連続再生だけしたいくらい。

* 再生終了時に画面にオーバーレイ。
* テレビはテレビ感覚で画面を止めないのが大切。
* ザッピング感覚のUIも便利かも。

とりあえず保留。

